{"version":3,"sources":["components/Footer.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","src","logo","alt","CurrentUserContext","React","createContext","Card","props","userInfo","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","link","onClick","onCardClick","type","onCardDelete","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","ImagePopup","isOpen","onClose","PopupWithForm","title","method","onSubmit","noValidate","children","buttonText","EditProfilePopup","currentUser","useEffect","setUserName","setUserDescription","useState","userName","userDescription","e","preventDefault","onUpdateUser","profession","id","minLength","maxLength","value","onChange","target","required","autoComplete","placeholder","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setName","setLink","api","options","this","_url","url","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_getOriginalResponse","body","JSON","stringify","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfileInfo","user","catch","err","console","log","getInitialCards","Provider","unlikeCard","likeCard","newCards","deleteCard","filter","editProfile","addCard","editProfileAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f76efb4.chunk.js","sourcesContent":["function Footer() {\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return(\r\n    <header className=\"header\">\r\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\"/>\r\n      </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport {useContext} from 'react'\r\n\r\nfunction Card(props) {\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  const userInfo = useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === userInfo._id;\r\n  const cardDeleteButtonClassName = `photos__delete-button ${!isOwn && 'photos__delete-button_inactive'}`;\r\n  const isLiked = props.card.likes.some(item => item._id === userInfo._id);\r\n  const cardLikeButtonClassName = `photos__like-button ${isLiked && 'photos__like-button_active'}`;\r\n\r\n  return(\r\n    <div className=\"photos__card\">\r\n            <img src={props.card.link} alt=\"Фотография\" className=\"photos__illustration\" onClick={handleClick}/>\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n            <div className=\"photos__wrap\">\r\n              <h2 className=\"photos__title\">{props.card.name}</h2>\r\n              <div className=\"photos__like-wrap\">\r\n                <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                <p className=\"photos__like-counter\">{props.card.likes.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import { useContext} from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  \r\n\r\n  const userInfo = useContext(CurrentUserContext);\r\n\r\n  \r\n\r\n\r\n \r\n  \r\n  return(\r\n    <>\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-overlay\">\r\n          <img src={userInfo.avatar} alt=\"Аватар\" className=\"profile__avatar\"/>\r\n        <div className=\"profile__button-overlay\">\r\n           <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n         <div className=\"profile__wrap\">\r\n            <h1 className=\"profile__title\">{userInfo.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button> \r\n          </div>\r\n            <p className=\"profile__subtitle\">{userInfo.about}</p>\r\n       </div>\r\n       <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      \r\n      <section className=\"photos\">\r\n      {props.cards.map(card => <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)}\r\n      </section>\r\n    </main>\r\n</>\r\n  )\r\n}\r\n\r\nexport default Main;","function ImagePopup(props) {\r\n  return(\r\n  <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : false}`}>\r\n      <div className=\"popup__container popup__container_image\">\r\n        <button className=\"popup__close popup__close_image\" onClick={props.onClose}></button>\r\n        <img src={props.card.link} alt=\"Фотография\" className=\"popup__illustration\"/>\r\n        <p className=\"popup__description\">{props.card.name}</p>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","function PopupWithForm(props) {\r\n  return(\r\n<div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : false}`}>\r\n  <div className={`popup__container popup__container_${props.name}`}>\r\n    <button className={`popup__close popup__close_${props.name}`} type=\"button\" onClick={props.onClose}></button>\r\n    <h2 className={`popup__title popup__title_${props.name}`}>{props.title}</h2>\r\n    <form className={`popup__form popup__form_${props.name}`}  name={props.name} method=\"GET\" onSubmit={props.onSubmit} noValidate>\r\n      {props.children}\r\n      <button className={`popup__save-button popup__save-button_${props.name}`} type=\"submit\">{props.buttonText}</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\r\nimport {useState, useContext, useEffect} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  \r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setUserName(currentUser.name)\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  const [userName, setUserName] = useState();\r\n  const [userDescription, setUserDescription] = useState();\r\n\r\n  function handleChangeName(e) {\r\n    setUserName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setUserDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: userName,\r\n      profession: userDescription\r\n    })\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n    name='profile'\r\n    title='Редактировать профиль'\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    buttonText='Сохранить'\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n      <input type=\"text\" id='name' minLength=\"2\" maxLength=\"40\" value={userName || ''} onChange={handleChangeName} required name=\"name\" autoComplete=\"off\" placeholder=\"Введите ваше имя\" className=\"popup__input popup__input_type_name\"/>\r\n      <span id='name-error' className=\"popup__error\"></span>\r\n      <input type=\"text\" id='profession' minLength=\"2\" maxLength=\"200\" value={userDescription || ''} onChange={handleChangeDescription} required name=\"profession\" autoComplete=\"off\" placeholder=\"Чем вы занимаетесь?\" className=\"popup__input popup__input_type_profession\"/>\r\n      <span id='profession-error' className=\"popup__error\"></span>\r\n      </>\r\n      \r\n    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm';\r\nimport {useRef} from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n  \r\n  const inputRef = useRef();\r\n  \r\n\r\n \r\n\r\n  \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name='avatar'\r\n        title='Обновить аватар'\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        buttonText='Сохранить'\r\n        onSubmit={handleSubmit}\r\n        >\r\n          <>\r\n          <input ref={inputRef} type=\"url\" id=\"avatar-url\" required name=\"avatar\" autoComplete=\"off\" placeholder=\"Ссылка на аватар\" className=\"popup__input popup__input_type_url\"/>\r\n          <span id=\"avatar-url-error\" className=\"popup__error\"></span>\r\n          </>\r\n        \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport {useState} from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link\r\n    })\r\n    //setName('');\r\n    //setLink('');\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm\r\n    name='card'\r\n    title='Новое место'\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Создать'\r\n    >\r\n      <>\r\n      <input type=\"text\" id='title'  minLength=\"2\" maxLength=\"30\" value={name} required name=\"name\" onChange={handleChangeName} autoComplete=\"off\" placeholder=\"Название\" className=\"popup__input popup__input_type_title\"/>\r\n      <span id=\"title-error\" className=\"popup__error\"></span>\r\n      <input type=\"url\" id=\"url\" value={link} required name=\"link\" onChange={handleChangeLink} autoComplete=\"off\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_type_url\"/>\r\n      <span id=\"url-error\" className=\"popup__error\"></span>\r\n      </>\r\n    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;"," //Класс для работы с API\r\n class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._token = options.token;\r\n  }\r\n\r\n  _getOriginalResponse(res) {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    \r\n    return Promise.reject(`Error: ${res.status} ${res.statusText}`);    \r\n  } \r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }\r\n    )\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);     \r\n    })\r\n     \r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  addCard(item) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        link: item.link\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n      \r\n    })\r\n    \r\n  }\r\n\r\n  editProfile(item) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        about: item.profession\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n      \r\n    })\r\n    \r\n  }\r\n  \r\n  editProfileAvatar(item) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: item.avatar\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n  unlikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getOriginalResponse(res);\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\r\n const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  token: 'cdc2b984-82a4-4b35-acbd-93038325fc29'\r\n})\r\n\r\nexport default api;","import '../index.css';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport {useState, useEffect} from 'react'\r\nimport api from '../utils/api';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    api.getProfileInfo()\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`);\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(`Error: ${err}`);\r\n      })\r\n  }, []);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(item) {\r\n    api.editProfile(item)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleUpdateAvatar(item) {\r\n    api.editProfileAvatar(item)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n    const toggleLike = isLiked ? api.unlikeCard(card._id) : api.likeCard(card._id);\r\n    toggleLike\r\n      .then((res) => {\r\n        const newCards = cards.map((item) => \r\n          item._id === res._id ? res : item\r\n        )\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(res => {\r\n        const newCards = cards.filter(item => item._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.addCard(card)\r\n      .then(res => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Error: ${err}`));\r\n  }\r\n\r\n  return (\r\n    <div className='page'>\r\n      <div className=\"page__container\">\r\n\r\n      <CurrentUserContext.Provider value={currentUser}>           \r\n\r\n      <Header/>\r\n\r\n      <Main \r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onCardClick={handleCardClick}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n      />\r\n\r\n      <Footer/>\r\n    \r\n     <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n     \r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <ImagePopup \r\n        name='image'\r\n        isOpen={isImagePopupOpen}\r\n        onClose={closeAllPopups}\r\n        card={selectedCard}\r\n      />\r\n\r\n      </CurrentUserContext.Provider> \r\n    </div>\r\n  </div>\r\n    \r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}